---
title: 스레드 및 스레딩
ms.date: 11/08/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- multiple threads
- threading [.NET]
- threading [.NET], multiple threads
ms.assetid: 5baac3aa-e603-4fa6-9f89-0f2c1084e6b1
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 095bd92921c9cd54d3a7d97ed07b35526b85c57f
ms.sourcegitcommit: 7f7664837d35320a0bad3f7e4ecd68d6624633b2
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/30/2018
ms.locfileid: "52672308"
---
# <a name="threads-and-threading"></a><span data-ttu-id="098c3-102">스레드 및 스레딩</span><span class="sxs-lookup"><span data-stu-id="098c3-102">Threads and threading</span></span>

<span data-ttu-id="098c3-103">다중 스레딩을 사용하면 애플리케이션의 응답성을 높이고, 다중 프로세서 또는 다중 코어 시스템에서 애플리케이션을 실행하는 경우 해당 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-103">Multithreading allows you to increase the responsiveness of your application and, if your application runs on a multiprocessor or multi-core system, increase its throughput.</span></span>

## <a name="processes-and-threads"></a><span data-ttu-id="098c3-104">프로세스 및 스레드</span><span class="sxs-lookup"><span data-stu-id="098c3-104">Processes and threads</span></span>

<span data-ttu-id="098c3-105">*프로세스*는 실행 중인 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-105">A *process* is an executing program.</span></span> <span data-ttu-id="098c3-106">운영 체제는 프로세스를 사용하여 실행 중인 애플리케이션을 분리합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-106">An operating system uses processes to separate the applications that are being executed.</span></span> <span data-ttu-id="098c3-107">*스레드*는 운영 체제가 프로세서 시간을 할당하는 기본 단위입니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-107">A *thread* is the basic unit to which an operating system allocates processor time.</span></span> <span data-ttu-id="098c3-108">각 스레드에는 [예약 우선 순위](scheduling-threads.md)가 있어서 스레드 실행이 일시 중지될 때 스레드 컨텍스트를 저장하는 데 시스템에서 사용하는 일련의 구조를 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-108">Each thread has a [scheduling priority](scheduling-threads.md) and maintains a set of structures the system uses to save the thread context when the thread's execution is paused.</span></span> <span data-ttu-id="098c3-109">스레드 컨텍스트에는 스레드의 CPU 레지스터 및 스택 세트를 포함하여 스레드가 실행을 원활하게 재개하는 데 필요한 모든 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-109">The thread context includes all the information the thread needs to seamlessly resume execution, including the thread's set of CPU registers and stack.</span></span> <span data-ttu-id="098c3-110">다중 스레드는 프로세스의 컨텍스트에서 실행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-110">Multiple threads can run in the context of a process.</span></span> <span data-ttu-id="098c3-111">프로세스의 모든 스레드는 해당 가상 주소 공간을 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-111">All threads of a process share its virtual address space.</span></span> <span data-ttu-id="098c3-112">스레드는 다른 스레드에 의해 현재 실행 중인 부분을 포함한 프로그램 코드의 일부를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-112">A thread can execute any part of the program code, including parts currently being executed by another thread.</span></span>

> [!NOTE]
> <span data-ttu-id="098c3-113">.NET Framework에서는 *애플리케이션 도메인*을 사용하여 프로세스 내에서 애플리케이션을 격리하는 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-113">The .NET Framework provides a way to isolate applications within a process with the use of *application domains*.</span></span> <span data-ttu-id="098c3-114">(애플리케이션 도메인은 .NET Core에서 사용할 수 없습니다.) 자세한 내용은 [애플리케이션 도메인](../../framework/app-domains/application-domains.md) 문서의 [애플리케이션 도메인 및 스레드](../../framework/app-domains/application-domains.md#application-domains-and-threads) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-114">(Application domains are not available on .NET Core.) For more information, see the [Application domains and threads](../../framework/app-domains/application-domains.md#application-domains-and-threads) section of the [Application domains](../../framework/app-domains/application-domains.md) article.</span></span>

<span data-ttu-id="098c3-115">기본적으로 .NET 프로그램은 *주* 스레드라고도 하는 단일 스레드에서 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-115">By default, a .NET program is started with a single thread, often called the *primary* thread.</span></span> <span data-ttu-id="098c3-116">그러나 추가 스레드를 만들어서 기본 스레드에서 병렬로 또는 동시에 코드를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-116">However, it can create additional threads to execute code in parallel or concurrently with the primary thread.</span></span> <span data-ttu-id="098c3-117">이러한 스레드를 일반적으로 *작업자* 스레드라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-117">These threads are often called *worker* threads.</span></span>

## <a name="when-to-use-multiple-threads"></a><span data-ttu-id="098c3-118">다중 스레드 사용 시기</span><span class="sxs-lookup"><span data-stu-id="098c3-118">When to use multiple threads</span></span>

<span data-ttu-id="098c3-119">다중 스레딩을 사용하여 애플리케이션의 응답성을 높이고, 다중 프로세서 또는 다중 코어 시스템을 활용하여 애플리케이션의 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-119">You use multiple threads to increase the responsiveness of your application and to take advantage of a multiprocessor or multi-core system to increase the application's throughput.</span></span>

<span data-ttu-id="098c3-120">기본 스레드가 사용자 인터페이스 요소에 대한 책임이 있고 사용자 작업에 응답하는 데 데스크톱 애플리케이션을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-120">Consider a desktop application, in which the primary thread is responsible for user interface elements and responds to user actions.</span></span> <span data-ttu-id="098c3-121">작업자 스레드를 사용하여 시간이 많이 걸리는 작업을 수행합니다. 그렇지 않으면 기본 스레드를 점유하고 사용자 인터페이스가 응답하지 않게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-121">Use worker threads to perform time-consuming operations that, otherwise, would occupy the primary thread and make the user interface non-responsive.</span></span> <span data-ttu-id="098c3-122">네트워크 또는 디바이스 통신을 위한 전용 스레드를 사용하여 들어오는 메시지 또는 이벤트에 대한 응답을 향상시킬 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-122">You also can use a dedicated thread for network or device communication to be more responsive to incoming messages or events.</span></span>

<span data-ttu-id="098c3-123">프로그램에서 병렬로 수행될 수 있는 작업을 수행하는 경우 별도 스레드에서 해당 작업을 수행하고 다중 프로세서 또는 다중 코어 시스템에서 프로그램을 실행하여 총 실행 시간을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-123">If your program performs operations that can be done in parallel, the total execution time can be decreased by performing those operations in separate threads and running the program on a multiprocessor or multi-core system.</span></span> <span data-ttu-id="098c3-124">이러한 시스템에서 다중 스레드를 사용하면 응답성이 함께 증가하며 처리량도 증가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-124">On such a system, use of multithreading might increase throughput along with the increased responsiveness.</span></span>

## <a name="how-to-use-multithreading-in-net"></a><span data-ttu-id="098c3-125">.NET에서 다중 스레드를 사용하는 방법</span><span class="sxs-lookup"><span data-stu-id="098c3-125">How to use multithreading in .NET</span></span>

<span data-ttu-id="098c3-126">.NET Framework 4부터 다중 스레딩을 사용하는 권장 방법은 [TPL(작업 병렬 라이브러리)](../parallel-programming/task-parallel-library-tpl.md) 및 [PLINQ(병렬 LINQ)](../parallel-programming/parallel-linq-plinq.md)를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-126">Starting with the .NET Framework 4, the recommended way to utilize multithreading is to use [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md) and [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md).</span></span> <span data-ttu-id="098c3-127">자세한 내용은 [병렬 프로그래밍](../parallel-programming/index.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-127">For more information, see [Parallel programming](../parallel-programming/index.md).</span></span>

<span data-ttu-id="098c3-128">TPL 및 PLINQ는 <xref:System.Threading.ThreadPool> 스레드를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-128">Both TPL and PLINQ rely on the <xref:System.Threading.ThreadPool> threads.</span></span> <span data-ttu-id="098c3-129"><xref:System.Threading.ThreadPool?displayProperty=nameWithType> 클래스는 작업자 스레드 풀을 포함한 .NET 애플리케이션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-129">The <xref:System.Threading.ThreadPool?displayProperty=nameWithType> class provides a .NET application with a pool of worker threads.</span></span> <span data-ttu-id="098c3-130">스레드 풀 스레드를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-130">You also can use thread pool threads.</span></span> <span data-ttu-id="098c3-131">자세한 내용은 [관리 스레드 풀](the-managed-thread-pool.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-131">For more information, see [The managed thread pool](the-managed-thread-pool.md).</span></span>

<span data-ttu-id="098c3-132">마지막으로 관리 스레드를 나타내는 <xref:System.Threading.Thread?displayProperty=nameWithType> 클래스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-132">At last, you can use the <xref:System.Threading.Thread?displayProperty=nameWithType> class that represents a managed thread.</span></span> <span data-ttu-id="098c3-133">자세한 내용은 [스레드 및 스레딩 사용](using-threads-and-threading.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-133">For more information, see [Using threads and threading](using-threads-and-threading.md).</span></span>

<span data-ttu-id="098c3-134">다중 스레드는 공유 리소스에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-134">Multiple threads might need to access a shared resource.</span></span> <span data-ttu-id="098c3-135">리소스를 손상되지 않도록 유지하고 경합 상태를 방지하기 위해 스레드 액세스를 여기에 동기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-135">To keep the resource in a uncorrupted state and avoid race conditions, you must synchronize the thread access to it.</span></span> <span data-ttu-id="098c3-136">또한 다중 스레드의 상호 작용을 조정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-136">You also might want to coordinate the interaction of multiple threads.</span></span> <span data-ttu-id="098c3-137">.NET은 공유 리소스에 대한 액세스를 동기화하거나 스레드 상호 작용을 조정하는 데 사용할 수 있는 다양한 형식을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-137">.NET provides a range of types that you can use to synchronize access to a shared resource or coordinate thread interaction.</span></span> <span data-ttu-id="098c3-138">자세한 내용은 [동기화 기본 형식 개요](overview-of-synchronization-primitives.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-138">For more information, see [Overview of synchronization primitives](overview-of-synchronization-primitives.md).</span></span>

<span data-ttu-id="098c3-139">스레드에서 예외를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-139">Do handle exceptions in threads.</span></span> <span data-ttu-id="098c3-140">스레드에서 처리되지 않은 예외가 있으면 일반적으로 프로세스가 종료됩니다.</span><span class="sxs-lookup"><span data-stu-id="098c3-140">Unhandled exceptions in threads generally terminate the process.</span></span> <span data-ttu-id="098c3-141">자세한 내용은 [관리 스레드의 예외](exceptions-in-managed-threads.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="098c3-141">For more information, see [Exceptions in managed threads](exceptions-in-managed-threads.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="098c3-142">참고 항목</span><span class="sxs-lookup"><span data-stu-id="098c3-142">See also</span></span>

- [<span data-ttu-id="098c3-143">스레딩 개체 및 기능</span><span class="sxs-lookup"><span data-stu-id="098c3-143">Threading objects and features</span></span>](threading-objects-and-features.md)
- [<span data-ttu-id="098c3-144">관리 스레딩을 구현하는 최선의 방법</span><span class="sxs-lookup"><span data-stu-id="098c3-144">Managed threading best practices</span></span>](managed-threading-best-practices.md)
- [<span data-ttu-id="098c3-145">.NET의 병렬 처리, 동시성 및 비동기 프로그래밍</span><span class="sxs-lookup"><span data-stu-id="098c3-145">Parallel Processing, Concurrency, and Async Programming in .NET</span></span>](../parallel-processing-and-concurrency.md)
- [<span data-ttu-id="098c3-146">프로세스 및 스레드 정보</span><span class="sxs-lookup"><span data-stu-id="098c3-146">About Processes and Threads</span></span>](/windows/desktop/procthread/about-processes-and-threads)